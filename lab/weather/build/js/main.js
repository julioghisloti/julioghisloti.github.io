$(document).ready(function(){function e(e,t){$.ajax({type:"GET",url:"https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=9ccb20724160d26c4dfb5f4b89963270&lat="+e+"&lon="+t+"&group_id=1463451@N25&per_page=1&format=json&nojsoncallback=1",success:function(e){$.each(e.photos.photo,function(e,t){var a=t.farm,o=t.server,c=t.id,r=t.secret,n="https://farm"+a+".staticflickr.com/"+o+"/"+c+"_"+r+"_b.jpg";$(".mc-image").css("background-image","url("+n+")"),$(".image").css("background-image","url("+n+")")})},complete:function(e){$(".loading").fadeOut(),0==e.responseJSON.photos.total&&($(".mc-image").css("background-image","url()"),$(".image").css("background-image","url(https://i0.wp.com/farm4.static.flickr.com/3336/3293815044_ae2a35f376_o.jpg)"))}})}function t(t){$.ajax({type:"GET",url:'https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text="'+t+'") and u="c" &format=json',success:function(t){if("City not found"!=t.query.results.channel.item.title){$.each(t.query.results.channel.item.forecast,function(e,a){0==e&&(a.day="Today");var r=t.query.results.channel.title.split("-");$("#location").val("").attr("placeholder",r[1]);var n=o(a);c.append(n)});var a=t.query.results.channel.item.lat,r=t.query.results.channel.item["long"];e(a,r)}else $(".city-error").fadeIn()}})}$('input[type="input"]').focus();var a=$("#weather-template").html(),o=Handlebars.compile(a),c=$(".forecast");t("New York, NY"),$("#location-form").submit(function(e){e.preventDefault(),$(".loading").fadeIn(),$(".forecast").empty();var a=$("#location").val();t(a)}),$(".city-error").on("click",function(){t("New York, NY"),$(this).fadeOut()})});